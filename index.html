<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>simple-better-boxelgame</title>
<style>
body{margin:0;overflow:hidden;background:#000;}

#ui{
  position:fixed;
  left:20px;
  top:20px;
  background:rgba(0,0,0,0.45);
  padding:10px;
  border-radius:10px;
  color:#fff;
  font-size:14px;
}
#ui input{width:160px;}

#stick{
  position:fixed;
  left:30px;bottom:30px;
  width:120px;height:120px;
  border-radius:50%;
  background:rgba(255,255,255,0.15);
  touch-action:none;
}

#up,#down{
  position:fixed;
  right:30px;
  width:60px;height:60px;
  font-size:24px;
  opacity:0.7;
}
#up{bottom:130px;}
#down{bottom:60px;}
</style>
</head>

<body>
<div id="ui">
  <input id="viewRange" type="range" min="4" max="100" value="8">
  <div id="label">View: 8</div>
</div>

<div id="stick"></div>
<button id="up">▲</button>
<button id="down">▼</button>

<script type="module">
import * as THREE from "https://unpkg.com/three@0.160.0/build/three.module.js"

// =====================
// === terrain params ==
// =====================
const seed = 12345
const chankSize = 32
const highMultiplier = 5
const octave = 5
const oceanHigh = 120      // ↓ 水面下げた
const heightBias = 40      // ← 地形全体のYバイアス

// =====================
// === noise ===========
// =====================
const lerp=t=>t*t*(3-2*t)

function hash(x,z,r){
  const t=Math.sq
